(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[4],{49:function(e,t,c){},51:function(e,t,c){},53:function(e,t,c){},54:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),i=c(34),s=c.n(i),r=c(36),d=(c(49),c(18)),o=c(8),j=c(16),l=(c(24),c(10)),u=(c(51),c(2));var b=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e="";return fetch("https://api.github.com/repos/paveldrobny/shop/branches/gh-pages").then((function(e){return e.json()})).then((function(t){e=t.commit.commit.author.date.slice(0,10),a(e)})).catch((function(e){return e}))})),Object(u.jsx)("footer",{children:Object(u.jsxs)("div",{id:"footer_MainCont",children:[Object(u.jsxs)("div",{id:"updateSite",children:["Update: ",c]}),Object(u.jsx)("div",{id:"footer_Cont",children:Object(u.jsx)("a",{href:"https://github.com/paveldrobny/shop",children:Object(u.jsx)("i",{className:"fab fa-github"})})})]})})};c(53);var h=function(e){var t=e.value;return Object(u.jsx)("div",{id:"progressCont",children:Object(u.jsx)("div",{id:"progressValue",style:{width:"".concat(t,"%")}})})};c(54);var m=function(){var e=Object(n.useState)(0),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([{name:"Products",path:"/",FAClass:"fas fa-shopping-bag"},{name:"AdminPanel",path:"/admin",FAClass:"fas fa-user-cog"}]),s=Object(l.a)(i,2),r=s[0],o=(s[1],"");return window.addEventListener("scroll",(function(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=document.body.scrollHeight-document.documentElement.clientHeight;a(e/t*100)})),window.scrollY>=15&&(o+="active"),Object(u.jsxs)("header",{id:"header",className:o,children:[Object(u.jsx)(h,{value:c}),Object(u.jsxs)("div",{className:"header-cont",children:[Object(u.jsx)("div",{className:"header-title",children:"Shop"}),Object(u.jsx)("div",{className:"header-navBtn",children:Object(u.jsx)("ul",{children:r.map((function(e){return Object(u.jsxs)("li",{children:[Object(u.jsx)(d.b,{exact:!0,to:e.path,className:"App-link",activeClassName:"selected",children:Object(u.jsx)("i",{className:e.FAClass})}),Object(u.jsx)("div",{className:"linkMessage",children:e.name})]},e.name)}))})})]})]})};var O=function(e){var t=e.card;return Object(u.jsx)("div",{className:"card-price",children:function(e){return e.Price>0&&0===e.Discount}(t)?Object(u.jsxs)("div",{children:[" ",t.Price]}):function(e){return e.Price>0&&e.Discount>0}(t)?Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"discountContent discountPrice",children:["-",t.Discount,"%"]}),Object(u.jsxs)("div",{className:"discountContent",children:[Object(u.jsx)("div",{className:"oldPrice",children:t.Price}),Object(u.jsx)("div",{className:"newPrice",children:function(e){return e.Price-(e.Price*(e.Discount/100)).toFixed(2)}(t)})]})]}):Object(u.jsx)("div",{children:"FREE"})})};var v=function(e){var t=e.card;return Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)(d.b,{to:"/product/".concat(t.id),children:[Object(u.jsx)("div",{className:"card-img",style:{backgroundImage:"url(".concat(t.Image,")")}}),Object(u.jsx)("div",{className:"card-container",children:Object(u.jsx)(O,{card:t})}),Object(u.jsx)("div",{className:"card-name",children:t.Name}),Object(u.jsx)("div",{className:"card-message",children:Object(u.jsxs)("div",{className:"card-message-info",children:["View",Object(u.jsx)("i",{className:"fas fa-arrow-right"})]})})]})})};c(59),c(60);var p=function(){return Object(u.jsxs)("div",{className:"lds-ellipsis",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{}),Object(u.jsx)("div",{})]})};c(61);var x=function(e){var t=e.onChange,c=e.value;return Object(u.jsx)("div",{id:"search_cont",children:Object(u.jsx)("input",{id:"search",type:"search",placeholder:"Search...",value:c,onChange:t})})};var f=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),s=Object(l.a)(i,2),r=s[0],d=s[1],o=Object(n.useState)(!0),b=Object(l.a)(o,2),h=b[0],m=b[1];Object(n.useEffect)((function(){var e=j.a.firestore(),t=[];return e.collection("Cards").get().then((function(e){e.forEach((function(e){t.push(e.data())})),a(t),m(!1)}))}));var O=c.filter((function(e){return e.Name.toLowerCase().includes(r.toLowerCase())}));return Object(u.jsxs)("div",{children:[Object(u.jsx)(x,{value:r,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)("div",{className:"card-wrapper",children:h?Object(u.jsx)(p,{}):c.length?O.map((function(e){return Object(u.jsx)(v,{card:e},e.id)})):Object(u.jsx)("h2",{children:"Empty list"})})]})};var g=function(){return Object(u.jsx)("div",{className:"page-wrapper",children:Object(u.jsx)(f,{})})},N=c(25),C=c(30);c(62);var P=function(e){var t=e.handleChange,c=e.value;return Object(u.jsxs)("div",{className:"admin-input-main",children:[Object(u.jsxs)("div",{className:"admin-input-content",children:[Object(u.jsx)("label",{children:"Product name:"}),Object(u.jsx)("input",{type:"text",name:"Name",value:c.Name,onChange:t})]}),Object(u.jsxs)("div",{className:"admin-input-content",children:[Object(u.jsx)("label",{children:"Product price:"}),Object(u.jsx)("input",{min:"0",type:"number",name:"Price",value:c.Price,onChange:t})]}),Object(u.jsxs)("div",{className:"admin-input-content",children:[Object(u.jsx)("label",{children:"Product discount %:"}),Object(u.jsx)("input",{type:"number",min:"0",name:"Discount",value:c.Discount,onChange:t})]}),Object(u.jsxs)("div",{className:"admin-input-content",children:[Object(u.jsx)("label",{children:"Product photo link:"}),Object(u.jsx)("input",{type:"text",name:"Image",value:c.Image,onChange:t})]}),Object(u.jsxs)("div",{className:"admin-input-content",children:[Object(u.jsx)("label",{children:"Product payment link:"}),Object(u.jsx)("input",{type:"text",name:"Pay",value:c.Pay,onChange:t})]}),Object(u.jsxs)("div",{className:"admin-input-content",children:[Object(u.jsx)("label",{children:"Product description:"}),Object(u.jsx)("textarea",{type:"text",name:"Description",value:c.Description,onChange:t})]})]})};c(63);var D=function(e){var t=e.card,c=e.deleteCard,a=Object(n.useState)([{name:"ID",value:t.id},{name:"TITLE",value:t.Name},{name:"PRICE",value:t.Price},{name:"DISCOUNT",value:t.Discount},{name:"PAY LINK",value:t.PayLink},{name:"DESCRIPTION",value:t.Description}]),i=Object(l.a)(a,2),s=i[0];return i[1],Object(u.jsxs)("div",{className:"cards-block",children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{className:"delete-product",onClick:c,children:"DELETE"})}),s.map((function(e){return Object(u.jsxs)("div",{className:"cards-info",children:[Object(u.jsxs)("b",{children:[e.name,":"]}),e.value]},e.name)}))]})};var y=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)({Name:"",Price:0,Discount:0,Image:"",Pay:"",Description:"",Date:""}),s=Object(l.a)(i,2),r=s[0],d=s[1],o=j.a.firestore();return Object(n.useEffect)((function(){var e=[];return o.collection("Cards").get().then((function(t){t.forEach((function(t){e.push(t.data())})),a(e)}))})),Object(u.jsxs)("div",{className:"admin-wrapper",children:[Object(u.jsx)("h1",{children:"Admin Panel"}),Object(u.jsx)(P,{handleChange:function(e){d(Object(C.a)(Object(C.a)({},r),{},Object(N.a)({},e.target.name,e.target.value)))}.bind(this),value:r}),Object(u.jsx)("div",{id:"btn_content",children:Object(u.jsx)("button",{onClick:function(){var e=(c.length+1).toString();!function(){if(r.Name.trim()&&r.Price>=0&&r.Discount<=99&&r.Image.trim()&&r.Pay.trim()&&r.Description.trim())return!0;return!1}()?alert("One of the fields is empty!"):o.collection("Cards").doc(e).set({id:e,Name:r.Name,Price:r.Price,Discount:r.Discount,Image:r.Image,PayLink:r.Pay,Description:r.Description,CreateAt:(new Date).toLocaleDateString()})},children:"Add product"})}),Object(u.jsxs)("details",{className:"cards-preview",children:[Object(u.jsx)("summary",{children:"Show / Hide products"}),c.map((function(e){return Object(u.jsx)(D,{card:e,deleteCard:function(){return function(e,t,c){var n="\nID: ".concat(e,"\nProduct name: ").concat(t,"Product price: ").concat(c);window.confirm("WARNING: Delete this product?"+n)&&o.collection("Cards").doc(e).delete().then((function(){console.log("Deleted!")})).catch((function(e){console.error("Error:",e)}))}(e.id,e.Name,e.Price)}},e.id)}))]})]})};var I=function(){return Object(u.jsx)("div",{className:"page-wrapper",children:Object(u.jsx)(y,{})})};c(64);var w=function(e){var t=e.info;return Object(u.jsxs)("div",{className:"infoCard-container",children:[Object(u.jsx)("div",{className:"infoCard-left",children:Object(u.jsx)("div",{className:"infoCard-img",style:{backgroundImage:"url(".concat(t.Image,")")}})}),Object(u.jsx)("div",{className:"border"}),Object(u.jsxs)("div",{className:"infoCard-right",children:[Object(u.jsx)("div",{className:"infoCard-title",children:Object(u.jsx)("b",{children:t.Name})}),Object(u.jsxs)("div",{className:"infoCard-price-cont",children:[Object(u.jsx)(O,{card:t}),Object(u.jsx)("a",{className:"infoCardPay",href:t.PayLink,children:"BUY"})]}),Object(u.jsxs)("div",{className:"infoCard-added",children:[Object(u.jsx)("b",{children:"Added:"})," ",t.CreateAt]}),Object(u.jsxs)("div",{className:"infoCard-description",children:[Object(u.jsx)("b",{children:"Description:"})," ",t.Description]})]})]})};var S=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),s=Object(l.a)(i,2),r=s[0],d=s[1],b=Object(o.f)();return Object(n.useEffect)((function(){!function(){var e=b.pathname.replace("/product/","");j.a.firestore().collection("Cards").doc(e).get().then((function(e){a(e.data()),d(!1)}))}()}),[]),Object(u.jsx)("div",{className:"infoCard-wrapper",children:r?Object(u.jsx)(p,{}):Object(u.jsx)(w,{info:c})})};var E=function(){return Object(u.jsx)("div",{className:"page-wrapper",children:Object(u.jsx)(S,{})})};var k=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)(d.a,{children:[Object(u.jsx)(m,{}),Object(u.jsxs)(o.c,{children:[Object(u.jsx)(o.a,{exact:!0,path:"/",component:g}),Object(u.jsx)(o.a,{path:"/product/:id",component:E}),Object(u.jsx)(o.a,{path:"/admin",component:I})]}),Object(u.jsx)(b,{})]})})},A=function(e){e&&e instanceof Function&&c.e(11).then(c.bind(null,75)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(r.a,{firebaseConfig:{apiKey:"AIzaSyAuttpCI3UJgvEdWsFvP_v6J9ORYE5zw4s",authDomain:"testproject-f5381.firebaseapp.com",databaseURL:"https://testproject-f5381.firebaseio.com",projectId:"testproject-f5381",storageBucket:"testproject-f5381.appspot.com",messagingSenderId:"530356136428"},children:Object(u.jsx)(k,{})})}),document.getElementById("root")),A()}},[[65,8,10]]]);
//# sourceMappingURL=main.c53674ba.chunk.js.map