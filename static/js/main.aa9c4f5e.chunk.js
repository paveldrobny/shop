(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[4],{49:function(e,t,c){},50:function(e,t,c){},52:function(e,t,c){},57:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),s=c(34),i=c.n(s),r=c(36),d=(c(49),c(18)),o=c(9),j=(c(23),c(6)),l=(c(50),c(2)),u=function(e){var t=e.value,c=e.type;return Object(l.jsx)("div",{className:"progress-content",children:Object(l.jsx)("div",{className:"progress-value ".concat(c),style:{width:"".concat(t,"%")}})})},b=(c(52),function(){var e=Object(n.useState)(0),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),i=Object(j.a)(s,2),r=i[0],o=i[1],b=Object(n.useState)([{name:"Home",path:"/",FAClass:"fas fa-home"},{name:"Browse",path:"/browse",FAClass:"fas fa-shopping-bag"},{name:"Admin panel",path:"/admin",FAClass:"fas fa-user-cog"}]),m=Object(j.a)(b,2),O=m[0];m[1];Object(n.useEffect)((function(){return window.addEventListener("scroll",h),function(){window.removeEventListener("scroll",h)}}),[r]);var h=function(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=document.body.scrollHeight-document.documentElement.clientHeight;a(e/t*100),window.scrollY>=15?o(!0):o(!1)};return Object(l.jsxs)("header",{id:"header",className:"".concat(r?"is-active":""),children:[Object(l.jsx)(u,{value:c,type:"progress-value-header"}),Object(l.jsxs)("div",{className:"header-content",children:[Object(l.jsx)("div",{className:"header-title",children:"Shop"}),Object(l.jsx)("div",{className:"header-nav-btn",children:Object(l.jsx)("ul",{children:O.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)(d.b,{exact:!0,to:e.path,className:"app-link",activeClassName:"selected",children:Object(l.jsx)("i",{className:e.FAClass})}),Object(l.jsx)("div",{className:"link-message",children:e.name})]},e.name)}))})})]})]})}),m=(c(57),function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e="";return fetch("https://api.github.com/repos/paveldrobny/shop").then((function(e){return e.json()})).then((function(t){e=t.updated_at.slice(0,10),a(e)})).catch((function(e){return e}))})),Object(l.jsx)("div",{id:"footer-wrapper",children:Object(l.jsxs)("footer",{children:[Object(l.jsxs)("div",{id:"footer-update-text",children:["Update: ",c]}),Object(l.jsx)("div",{children:Object(l.jsx)("a",{id:"footer-link",href:"https://github.com/paveldrobny/shop",children:Object(l.jsx)("i",{className:"fab fa-github"})})})]})})}),O=c(15),h=(c(59),function(e){return Object(l.jsx)("div",{className:"slider-btn",children:e.navButtons.map((function(t,c){return Object(l.jsx)("button",{onClick:function(){return e.changeSlide(t.isLeft)},id:t.id,children:Object(l.jsx)("i",{className:t.class})},c)}))})}),f=function(e){var t=e.card,c=e.isProduct;return Object(l.jsx)("div",{className:"card-price ".concat(c?"is-product":""),children:t.Price>0&&0===t.Discount?Object(l.jsx)("div",{className:"card-price-normal",children:t.Price}):t.Price>0&&t.Discount>0?Object(l.jsxs)("div",{className:"card-discount-wrapper",children:[Object(l.jsxs)("div",{className:"card-discount-test",children:[Object(l.jsx)("div",{className:"card-price-old",children:t.Price}),Object(l.jsx)("div",{className:"card-price-discount",children:(t.Price-t.Price*(t.Discount/100)).toFixed(2)})]}),Object(l.jsxs)("div",{className:"card-discount-percent",children:[c?"SAVE ":"- ",t.Discount,"%"]})]}):Object(l.jsx)("div",{children:"FREE"})})},x=function(e){return Object(l.jsx)("div",{id:"slider-image-content",children:e.sliders.map((function(t,c){return Object(l.jsx)("div",{className:"slider-image",style:{backgroundImage:"url(".concat(t.Image,")"),right:"".concat(100*e.current,"%")},children:Object(l.jsx)("div",{className:"slider-image-info",children:Object(l.jsxs)("div",{className:"image-info-content",children:[Object(l.jsx)("i",{className:"info-content-title",children:Object(l.jsx)("b",{children:t.Name})}),Object(l.jsx)(f,{isProduct:!1,card:t})]})})},c)}))})},v=(c(60),function(){return Object(l.jsxs)("div",{className:"slider-content LoadSliderMain",children:[Object(l.jsx)("div",{id:"slider-title",className:"LoadSliderText"}),Object(l.jsx)("div",{className:"slider",children:Object(l.jsx)("div",{id:"slider-image-content",className:"LoadSlider"})})]})}),p=function(e){return Object(l.jsx)("div",{id:"slider-dots-wrapper",children:e.sliders.map((function(t,c){return Object(l.jsx)("div",{className:c===e.current?"slider-dots is-active":"slider-dots",onClick:function(){return e.setCurrent(c)}},c)}))})},N=function(){var e=Object(n.useState)(0),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([{id:"silder-btn-left",class:"fas fa-chevron-left",isLeft:!0},{id:"silder-btn-right",class:"fas fa-chevron-right",isLeft:!1}]),i=Object(j.a)(s,2),r=i[0],d=(i[1],Object(n.useState)([])),o=Object(j.a)(d,2),b=o[0],m=o[1],f=Object(n.useState)(!0),N=Object(j.a)(f,2),g=N[0],C=N[1],P=Object(n.useState)(1),w=Object(j.a)(P,2),S=w[0],y=w[1],D=Object(n.useState)(!0),E=Object(j.a)(D,2),I=E[0],L=E[1],k=O.a.firestore(),A=5e3;Object(n.useEffect)((function(){var e=[];k.collection("Cards").orderBy("id","desc").get().then((function(t){t.forEach((function(t){e.push(t.data())})),m(e.slice(0,3)),L(!1)}))}),[]),Object(n.useEffect)((function(){var e=(c+1)%b.length,t=setTimeout((function(){return a(e)}),A);return y(0),function(){return clearTimeout(t)}}),[c,b.length]),Object(n.useEffect)((function(){var e=setTimeout((function(){return y(S+1)}),45);return function(){return clearTimeout(e)}}),[S]);return Object(l.jsx)("div",{className:"slider-wrapper",children:Object(l.jsx)("div",{className:"slider",children:I?Object(l.jsx)(v,{}):Object(l.jsxs)("div",{children:[Object(l.jsx)(h,{navButtons:r,changeSlide:function(e){if(g){if(C(!1),setTimeout((function(){return C(!0)}),500),e)return a(0===c?b.length-1:c-1);a(c===b.length-1?0:c+1)}}}),Object(l.jsx)("div",{id:"slider-title",children:"New products"}),Object(l.jsx)("div",{id:"progress-wrapper",children:Object(l.jsx)(u,{value:S,type:"progress-value-slider"})}),Object(l.jsx)(x,{sliders:b,current:c}),Object(l.jsx)(p,{sliders:b,current:c,setCurrent:a})]})})})};var g=function(e){var t=e.card;return Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)(d.b,{to:"/product/".concat(t.id),children:[Object(l.jsx)("div",{className:"card-img",style:{backgroundImage:"url(".concat(t.Image,")")}}),Object(l.jsxs)("div",{className:"card-container",children:[Object(l.jsxs)("div",{className:"card-name-cart",children:[Object(l.jsx)("div",{className:"card-name",children:t.Name}),Object(l.jsx)("div",{className:"card-cart-wrapper"})]}),Object(l.jsx)(f,{isProduct:!1,card:t})]}),Object(l.jsx)("div",{className:"card-message",children:Object(l.jsxs)("div",{className:"card-message-info",children:["View",Object(l.jsx)("i",{className:"fas fa-arrow-right"})]})})]})})},C=g,P=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!0),i=Object(j.a)(s,2),r=(i[0],i[1]),d=O.a.firestore();return Object(n.useEffect)((function(){var e=[];d.collection("Cards").orderBy("id","desc").get().then((function(t){t.forEach((function(t){t.data().Discount>0&&e.push(t.data())})),a(e),r(!1)}))}),[]),Object(l.jsxs)("div",{className:"page-wrapper",children:[Object(l.jsx)(N,{}),Object(l.jsx)("div",{className:"home_title",children:"DISCOUNTS!"}),Object(l.jsx)("div",{className:"newCardsTest",children:c.map((function(e){return Object(l.jsx)(C,{card:e})}))})]})},w=(c(61),c(62),function(){return Object(l.jsxs)("div",{className:"lds-ellipsis",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})}),S=(c(63),function(e){var t=e.onChange,c=e.value;return Object(l.jsx)("div",{id:"search-wrapper",children:Object(l.jsx)("input",{type:"search",placeholder:"Search...",value:c,maxLength:"30",onChange:t})})}),y=function(e){var t=e.text;return Object(l.jsx)("div",{id:"not-found-wrapper",children:Object(l.jsxs)("h2",{children:["No results found for ",Object(l.jsx)("span",{id:"not-found-text",children:t})]})})},D=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),i=Object(j.a)(s,2),r=i[0],d=i[1],o=Object(n.useState)(!0),u=Object(j.a)(o,2),b=u[0],m=u[1];Object(n.useEffect)((function(){var e=O.a.firestore(),t=[];return e.collection("Cards").get().then((function(e){e.forEach((function(e){t.push(e.data())})),a(t),m(!1)}))}),[]);var h,f=c.filter((function(e){return e.Name.toLowerCase().includes(r.toLowerCase())}));return b?h=Object(l.jsx)(w,{}):c.length&&f.length?h=f.map((function(e){return Object(l.jsx)(g,{card:e},e.id)})):f.length||(h=Object(l.jsx)(y,{text:r})),Object(l.jsxs)("div",{children:[Object(l.jsx)(S,{value:r,onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("div",{className:"card-wrapper",children:h})]})},E=function(){return Object(l.jsx)("div",{className:"page-wrapper",children:Object(l.jsx)(D,{})})},I=c(25),L=c(30);c(64);var k=function(e){var t=e.handleChange,c=e.value;return Object(l.jsxs)("div",{className:"admin-input-main",children:[Object(l.jsxs)("div",{className:"admin-side",children:[Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product name:"}),Object(l.jsx)("input",{type:"text",name:"Name",value:c.Name,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product price:"}),Object(l.jsx)("input",{min:"0",type:"number",name:"Price",value:c.Price,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product discount %:"}),Object(l.jsx)("input",{type:"number",min:"0",name:"Discount",value:c.Discount,onChange:t})]})]}),Object(l.jsxs)("div",{className:"admin-side",children:[Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product photo link:"}),Object(l.jsx)("input",{type:"text",name:"Image",value:c.Image,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product payment link:"}),Object(l.jsx)("input",{type:"text",name:"Pay",value:c.Pay,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product description:"}),Object(l.jsx)("textarea",{type:"text",name:"Description",value:c.Description,onChange:t})]})]})]})};c(65);var A=function(e){var t=e.card,c=e.deleteCard,a=Object(n.useState)([{name:"ID",value:t.id},{name:"TITLE",value:t.Name},{name:"PRICE",value:t.Price},{name:"DISCOUNT",value:t.Discount},{name:"IMAGE LINK",value:t.Image},{name:"PAY LINK",value:t.PayLink},{name:"DESCRIPTION",value:t.Description}]),s=Object(j.a)(a,2),i=s[0];return s[1],Object(l.jsxs)("div",{className:"cards-block",children:[Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"delete-product",onClick:c,children:"DELETE"})}),i.map((function(e){return Object(l.jsxs)("div",{className:"cards-info",children:[Object(l.jsxs)("b",{children:[e.name,":"]}),e.value]},e.name)}))]})};var T=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)({Name:"",Price:0,Discount:0,Image:"",Pay:"",Description:"",Date:""}),i=Object(j.a)(s,2),r=i[0],d=i[1],o=O.a.firestore();return Object(n.useEffect)((function(){var e=[];return o.collection("Cards").get().then((function(t){t.forEach((function(t){e.push(t.data())})),a(e)}))}),[c]),Object(l.jsxs)("div",{className:"admin-wrapper",children:[Object(l.jsx)("h1",{children:"Admin Panel"}),Object(l.jsx)(k,{handleChange:function(e){d(Object(L.a)(Object(L.a)({},r),{},Object(I.a)({},e.target.name,e.target.value)))}.bind(this),value:r}),Object(l.jsx)("div",{id:"btn_content",children:Object(l.jsx)("button",{onClick:function(){var e=(c.length+1).toString();!function(){if(r.Name.trim()&&r.Price>=0&&r.Discount<=99&&r.Image.trim()&&r.Pay.trim()&&r.Description.trim())return!0;return!1}()?alert("One of the fields is empty!"):o.collection("Cards").doc(e).set({id:Number(e),Name:r.Name,Price:Number(r.Price),Discount:Number(r.Discount),Image:r.Image,PayLink:r.Pay,Description:r.Description,CreateAt:(new Date).toLocaleDateString()})},children:"Add product"})}),Object(l.jsxs)("details",{className:"cards-preview",children:[Object(l.jsx)("summary",{children:"Show / Hide products"}),Object(l.jsx)("div",{className:"cards-content",children:c.map((function(e){return Object(l.jsx)(A,{card:e,deleteCard:function(){return function(e,t,c){var n="\nID: ".concat(e,"\nProduct name: ").concat(t,"\nProduct price: ").concat(c);window.confirm("WARNING: Delete this product?"+n)&&o.collection("Cards").doc(e).delete().then((function(){console.log("Deleted!")})).catch((function(e){console.error("Error:",e)}))}(e.id,e.Name,e.Price)}},e.id)}))})]})]})},B=(c(66),function(e){var t=e.name,c=e.value;return Object(l.jsxs)("div",{className:"info-card-container",children:[Object(l.jsxs)("b",{children:[t,":"]})," ",c]})}),F=function(e){var t=e.info;return Object(l.jsxs)("div",{className:"info-card",children:[Object(l.jsx)("div",{className:"info-card-left",children:Object(l.jsx)("div",{className:"info-card-image",style:{backgroundImage:"url(".concat(t.Image,")")}})}),Object(l.jsxs)("div",{className:"info-card-right",children:[Object(l.jsx)("div",{className:"info-card-title",children:Object(l.jsx)("b",{children:t.Name})}),Object(l.jsx)("div",{className:"info-card-container",children:Object(l.jsx)(f,{isProduct:!0,card:t})}),Object(l.jsx)("div",{className:"info-card-container",children:Object(l.jsx)("a",{className:"info-card-pay",href:t.PayLink,children:"BUY"})}),Object(l.jsx)(B,{name:"Added",value:t.CreateAt}),Object(l.jsx)(B,{name:"Description",value:t.Description})]})]})},H=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!0),i=Object(j.a)(s,2),r=i[0],d=i[1],u=Object(o.f)();Object(n.useEffect)((function(){b()}),[]);var b=function(){var e=u.pathname.replace("/product/","");return O.a.firestore().collection("Cards").doc(e).get().then((function(e){a(e.data()),d(!1)}))};return Object(l.jsx)("div",{className:"info-card-wrapper",children:r?Object(l.jsx)(w,{}):Object(l.jsx)(F,{info:c})})},R={Home:P,Browse:E,Admin:T,Product:function(){return Object(l.jsx)("div",{className:"page-wrapper",children:Object(l.jsx)(H,{})})}};var U=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(d.a,{children:[Object(l.jsx)(b,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:R.Home}),Object(l.jsx)(o.a,{path:"/browse",component:R.Browse}),Object(l.jsx)(o.a,{path:"/admin",component:R.Admin}),Object(l.jsx)(o.a,{path:"/product/:id",component:R.Product})]}),Object(l.jsx)(m,{})]})})},J=function(e){e&&e instanceof Function&&c.e(11).then(c.bind(null,76)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(r.a,{firebaseConfig:{apiKey:"AIzaSyAuttpCI3UJgvEdWsFvP_v6J9ORYE5zw4s",authDomain:"testproject-f5381.firebaseapp.com",databaseURL:"https://testproject-f5381.firebaseio.com",projectId:"testproject-f5381",storageBucket:"testproject-f5381.appspot.com",messagingSenderId:"530356136428"},children:Object(l.jsx)(U,{})})}),document.getElementById("root")),J()}},[[67,8,10]]]);
//# sourceMappingURL=main.aa9c4f5e.chunk.js.map