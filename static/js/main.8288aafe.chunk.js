(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[4],{49:function(e,t,c){},50:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){},59:function(e,t,c){},60:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),i=c(34),r=c.n(i),s=c(36),d=(c(49),c(18)),o=c(9),j=(c(23),c(7)),l=(c(50),c(2));var u=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e="";return fetch("https://api.github.com/repos/paveldrobny/shop").then((function(e){return e.json()})).then((function(t){e=t.updated_at.slice(0,10),a(e)})).catch((function(e){return e}))})),Object(l.jsx)("footer",{children:Object(l.jsxs)("div",{id:"footer_MainCont",children:[Object(l.jsxs)("div",{id:"updateSite",children:["Update: ",c]}),Object(l.jsx)("div",{id:"footer_Cont",children:Object(l.jsx)("a",{href:"https://github.com/paveldrobny/shop",children:Object(l.jsx)("i",{className:"fab fa-github"})})})]})})};c(52);var b=function(e){var t=e.value,c=e.type;return Object(l.jsx)("div",{id:"progressCont",children:Object(l.jsx)("div",{id:"progressValue",className:c,style:{width:"".concat(t,"%")}})})};c(53);var O=function(){var e=Object(n.useState)(0),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([{name:"Home",path:"/",FAClass:"fas fa-home"},{name:"Browse",path:"/browse",FAClass:"fas fa-shopping-bag"},{name:"Admin panel",path:"/admin",FAClass:"fas fa-user-cog"}]),r=Object(j.a)(i,2),s=r[0],o=(r[1],"");return window.addEventListener("scroll",(function(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=document.body.scrollHeight-document.documentElement.clientHeight;a(e/t*100)})),window.scrollY>=15&&(o+="active"),Object(l.jsxs)("header",{id:"header",className:o,children:[Object(l.jsx)(b,{value:c,type:"headerV"}),Object(l.jsxs)("div",{className:"header-cont",children:[Object(l.jsx)("div",{className:"header-title",children:"Shop"}),Object(l.jsx)("div",{className:"header-navBtn",children:Object(l.jsx)("ul",{children:s.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)(d.b,{exact:!0,to:e.path,className:"App-link",activeClassName:"selected",children:Object(l.jsx)("i",{className:e.FAClass})}),Object(l.jsx)("div",{className:"linkMessage",children:e.name})]},e.name)}))})})]})]})},h=c(15);c(59);var m=function(e){var t=e.id,c=e.icon,n=e.onClick;return Object(l.jsx)("button",{onClick:n,id:t,children:Object(l.jsx)("i",{className:c})})};var f=function(e){var t=e.card;return Object(l.jsx)("div",{className:"card-price",children:function(e){return e.Price>0&&0==e.Discount}(t)?Object(l.jsxs)("div",{children:[" ",t.Price]}):function(e){return e.Price>0&&e.Discount>0}(t)?Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"discountContent discountPrice",children:["-",t.Discount,"%"]}),Object(l.jsxs)("div",{className:"discountContent",children:[Object(l.jsx)("div",{className:"oldPrice",children:t.Price}),Object(l.jsx)("div",{className:"newPrice",children:function(e){return(e.Price-e.Price*(e.Discount/100)).toFixed(2)}(t)})]})]}):Object(l.jsx)("div",{children:"FREE"})})};var v=function(e){var t=e.slider,c=e.index,n=e.currentT;return Object(l.jsx)("div",{className:c===n?"slider-image active":"slider-image",style:{backgroundImage:"url(".concat(t.Image,")"),right:"".concat(100*n,"%")},children:Object(l.jsx)("div",{className:"projectInfo",children:Object(l.jsxs)("div",{className:"projectName",children:[Object(l.jsx)("i",{children:Object(l.jsx)("b",{children:t.Name})}),Object(l.jsx)(f,{card:t})]})})})};c(60);var x=function(){return Object(l.jsxs)("div",{className:"lds-ellipsis",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{}),Object(l.jsx)("div",{})]})};var p=function(e){var t=e.index,c=e.currentT,n=e.onClick;return Object(l.jsx)("div",{className:t===c?"slider-dots active":"slider-dots",onClick:n})};var g=function(){var e=Object(n.useState)(0),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)([{idT:"silder-btn-left",class:"fas fa-chevron-left",isLeft:!0},{idT:"silder-btn-right",class:"fas fa-chevron-right",isLeft:!1}]),r=Object(j.a)(i,2),s=r[0],d=(r[1],Object(n.useState)([])),o=Object(j.a)(d,2),u=o[0],O=o[1],f=Object(n.useState)(!0),g=Object(j.a)(f,2),N=g[0],C=g[1],P=Object(n.useState)(1),y=Object(j.a)(P,2),D=y[0],S=y[1],I=Object(n.useState)(!0),w=Object(j.a)(I,2),E=w[0],T=w[1],k=h.a.firestore(),A=8e3;function L(e){N&&(C(!1),setTimeout((function(){return C(!0)}),500),a(e?0===c?u.length-1:c-1:c===u.length-1?0:c+1))}return Object(n.useEffect)((function(){var e=[];k.collection("Cards").orderBy("id","desc").get().then((function(t){var c=t.size;t.forEach((function(t){var n=t.data().id;n>=c-2&&n<=c&&e.push(t.data())})),O(e),T(!1)}))}),[]),Object(n.useEffect)((function(){var e=(c+1)%u.length,t=setTimeout((function(){return a(e)}),A);return S(0),function(){return clearTimeout(t)}}),[c,u.length]),Object(n.useEffect)((function(){var e=setTimeout((function(){return S(D+1)}),72);return function(){return clearTimeout(e)}}),[D]),Object(l.jsx)("div",{className:"slider-content",children:Object(l.jsx)("div",{className:"slider",children:E?Object(l.jsx)(x,{}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"slider-btn",children:s.map((function(e,t){return Object(l.jsx)(m,{id:e.idT,onClick:function(){return L(e.isLeft)},icon:e.class},t)}))}),Object(l.jsx)("div",{id:"progressWrapper",children:Object(l.jsx)(b,{value:D,type:"sliderV"})}),Object(l.jsx)("div",{id:"slider-imageCont",children:u.map((function(e,t){return Object(l.jsx)(v,{index:t,slider:e,currentT:c},t)}))}),Object(l.jsx)("div",{id:"slider-dotsCont",children:u.map((function(e,t){return Object(l.jsx)(p,{index:t,currentT:c,onClick:function(){return a(t)}},t)}))})]})})})};var N=function(e){var t=e.card;return Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)(d.b,{to:"/product/".concat(t.id),children:[Object(l.jsx)("div",{className:"card-img",style:{backgroundImage:"url(".concat(t.Image,")")}}),Object(l.jsx)("div",{className:"card-container",children:Object(l.jsx)(f,{card:t})}),Object(l.jsx)("div",{className:"card-name",children:t.Name}),Object(l.jsx)("div",{className:"card-message",children:Object(l.jsxs)("div",{className:"card-message-info",children:["View",Object(l.jsx)("i",{className:"fas fa-arrow-right"})]})})]})})},C=N;var P=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),r=Object(j.a)(i,2),s=(r[0],r[1]),d=h.a.firestore();return Object(n.useEffect)((function(){var e=[];d.collection("Cards").orderBy("id","desc").get().then((function(t){t.forEach((function(t){t.data().Discount>0&&e.push(t.data())})),a(e),s(!1)}))}),[]),Object(l.jsxs)("div",{className:"page-wrapper",children:[Object(l.jsx)(g,{}),Object(l.jsx)("div",{class:"home_title",children:"DISCOUNTS!"}),Object(l.jsx)("div",{class:"newCardsTest",children:c.map((function(e){return Object(l.jsx)(C,{card:e})}))})]})};c(61),c(62);var y=function(e){var t=e.onChange,c=e.value;return Object(l.jsx)("div",{id:"search_cont",children:Object(l.jsx)("input",{id:"search",type:"search",placeholder:"Search...",value:c,maxLength:"50",onChange:t})})};var D=function(e){var t=e.text;return Object(l.jsx)("div",{id:"notFoundWrapper",children:Object(l.jsxs)("h2",{children:["No results found for ",Object(l.jsx)("span",{id:"textNF",children:t})]})})};var S=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(""),r=Object(j.a)(i,2),s=r[0],d=r[1],o=Object(n.useState)(!0),u=Object(j.a)(o,2),b=u[0],O=u[1];Object(n.useEffect)((function(){var e=h.a.firestore(),t=[];return e.collection("Cards").get().then((function(e){e.forEach((function(e){t.push(e.data())})),a(t),O(!1)}))}),[]);var m,f=c.filter((function(e){return e.Name.toLowerCase().includes(s.toLowerCase())}));return b?m=Object(l.jsx)(x,{}):c.length&&f.length?m=f.map((function(e){return Object(l.jsx)(N,{card:e},e.id)})):f.length||(m=Object(l.jsx)(D,{text:s})),Object(l.jsxs)("div",{children:[Object(l.jsx)(y,{value:s,onChange:function(e){return d(e.target.value)}}),Object(l.jsx)("div",{className:"card-wrapper",children:m})]})};var I=function(){return Object(l.jsx)("div",{className:"page-wrapper",children:Object(l.jsx)(S,{})})},w=c(25),E=c(30);c(63);var T=function(e){var t=e.handleChange,c=e.value;return Object(l.jsxs)("div",{className:"admin-input-main",children:[Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product name:"}),Object(l.jsx)("input",{type:"text",name:"Name",value:c.Name,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product price:"}),Object(l.jsx)("input",{min:"0",type:"number",name:"Price",value:c.Price,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product discount %:"}),Object(l.jsx)("input",{type:"number",min:"0",name:"Discount",value:c.Discount,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product photo link:"}),Object(l.jsx)("input",{type:"text",name:"Image",value:c.Image,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product payment link:"}),Object(l.jsx)("input",{type:"text",name:"Pay",value:c.Pay,onChange:t})]}),Object(l.jsxs)("div",{className:"admin-input-content",children:[Object(l.jsx)("label",{children:"Product description:"}),Object(l.jsx)("textarea",{type:"text",name:"Description",value:c.Description,onChange:t})]})]})};c(64);var k=function(e){var t=e.card,c=e.deleteCard,a=Object(n.useState)([{name:"ID",value:t.id},{name:"TITLE",value:t.Name},{name:"PRICE",value:t.Price},{name:"DISCOUNT",value:t.Discount},{name:"IMAGE LINK",value:t.Image},{name:"PAY LINK",value:t.PayLink},{name:"DESCRIPTION",value:t.Description}]),i=Object(j.a)(a,2),r=i[0];return i[1],Object(l.jsxs)("div",{className:"cards-block",children:[Object(l.jsx)("div",{children:Object(l.jsx)("button",{className:"delete-product",onClick:c,children:"DELETE"})}),r.map((function(e){return Object(l.jsxs)("div",{className:"cards-info",children:[Object(l.jsxs)("b",{children:[e.name,":"]}),e.value]},e.name)}))]})};var A=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)({Name:"",Price:0,Discount:0,Image:"",Pay:"",Description:"",Date:""}),r=Object(j.a)(i,2),s=r[0],d=r[1],o=h.a.firestore();return Object(n.useEffect)((function(){var e=[];return o.collection("Cards").get().then((function(t){t.forEach((function(t){e.push(t.data())})),a(e)}))}),[o,c]),Object(l.jsxs)("div",{className:"admin-wrapper",children:[Object(l.jsx)("h1",{children:"Admin Panel"}),Object(l.jsx)(T,{handleChange:function(e){d(Object(E.a)(Object(E.a)({},s),{},Object(w.a)({},e.target.name,e.target.value)))}.bind(this),value:s}),Object(l.jsx)("div",{id:"btn_content",children:Object(l.jsx)("button",{onClick:function(){var e=(c.length+1).toString();!function(){if(s.Name.trim()&&s.Price>=0&&s.Discount<=99&&s.Image.trim()&&s.Pay.trim()&&s.Description.trim())return!0;return!1}()?alert("One of the fields is empty!"):o.collection("Cards").doc(e).set({id:e,Name:s.Name,Price:s.Price,Discount:s.Discount,Image:s.Image,PayLink:s.Pay,Description:s.Description,CreateAt:(new Date).toLocaleDateString()})},children:"Add product"})}),Object(l.jsxs)("details",{className:"cards-preview",children:[Object(l.jsx)("summary",{children:"Show / Hide products"}),c.map((function(e){return Object(l.jsx)(k,{card:e,deleteCard:function(){return function(e,t,c){var n="\nID: ".concat(e,"\nProduct name: ").concat(t,"\nProduct price: ").concat(c);window.confirm("WARNING: Delete this product?"+n)&&o.collection("Cards").doc(e).delete().then((function(){console.log("Deleted!")})).catch((function(e){console.error("Error:",e)}))}(e.id,e.Name,e.Price)}},e.id)}))]})]})};var L=function(){return Object(l.jsx)("div",{className:"page-wrapper",children:Object(l.jsx)(A,{})})};c(65);var F=function(e){var t=e.info;return Object(l.jsxs)("div",{className:"infoCard-container",children:[Object(l.jsx)("div",{className:"infoCard-left",children:Object(l.jsx)("div",{className:"infoCard-img",style:{backgroundImage:"url(".concat(t.Image,")")}})}),Object(l.jsx)("div",{className:"border"}),Object(l.jsxs)("div",{className:"infoCard-right",children:[Object(l.jsx)("div",{className:"infoCard-title",children:Object(l.jsx)("b",{children:t.Name})}),Object(l.jsxs)("div",{className:"infoCard-price-cont",children:[Object(l.jsx)(f,{card:t}),Object(l.jsx)("a",{className:"infoCardPay",href:t.PayLink,children:"BUY"})]}),Object(l.jsxs)("div",{className:"infoCard-added",children:[Object(l.jsx)("b",{children:"Added:"})," ",t.CreateAt]}),Object(l.jsxs)("div",{className:"infoCard-description",children:[Object(l.jsx)("b",{children:"Description:"})," ",t.Description]})]})]})};var B=function(){var e=Object(n.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1],i=Object(n.useState)(!0),r=Object(j.a)(i,2),s=r[0],d=r[1],u=Object(o.f)();return Object(n.useEffect)((function(){!function(){var e=u.pathname.replace("/product/","");h.a.firestore().collection("Cards").doc(e).get().then((function(e){a(e.data()),d(!1)}))}()}),[]),Object(l.jsx)("div",{className:"infoCard-wrapper",children:s?Object(l.jsx)(x,{}):Object(l.jsx)(F,{info:c})})};var _={Home:P,Browse:I,Admin:L,Product:function(){return Object(l.jsx)("div",{className:"page-wrapper",children:Object(l.jsx)(B,{})})}};var H=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(d.a,{children:[Object(l.jsx)(O,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:_.Home}),Object(l.jsx)(o.a,{path:"/browse",component:_.Browse}),Object(l.jsx)(o.a,{path:"/admin",component:_.Admin}),Object(l.jsx)(o.a,{path:"/product/:id",component:_.Product})]}),Object(l.jsx)(u,{})]})})},R=function(e){e&&e instanceof Function&&c.e(11).then(c.bind(null,75)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(s.a,{firebaseConfig:{apiKey:"AIzaSyAuttpCI3UJgvEdWsFvP_v6J9ORYE5zw4s",authDomain:"testproject-f5381.firebaseapp.com",databaseURL:"https://testproject-f5381.firebaseio.com",projectId:"testproject-f5381",storageBucket:"testproject-f5381.appspot.com",messagingSenderId:"530356136428"},children:Object(l.jsx)(H,{})})}),document.getElementById("root")),R()}},[[66,8,10]]]);
//# sourceMappingURL=main.8288aafe.chunk.js.map